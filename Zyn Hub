local Games = loadstring(game:HttpGet("https://raw.githubusercontent.com/jaiasof/Zyn-Hub/refs/heads/main/Games"))()
local URL = Games[game.GameId]

if URL then
    loadstring(game:HttpGet(URL))()
end

local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local player = game.Players.LocalPlayer

local Name = player.Name
local DisplayName = player.DisplayName
local Exec_Name = identifyexecutor() or "Unknown"

-- Get place name
local successInfo, placeInfo = pcall(function()
    return MarketplaceService:GetProductInfo(game.PlaceId)
end)

local PlaceName = successInfo and placeInfo.Name or "Unknown Place"

local webhookUrl = "https://discord.com/api/webhooks/1454074643118817408/gqEZhoq5IMoc8E1uysa9AlKS_yrziAWPc4w5eaKjWm2dp0_zfPpVWjHHKNzhjlZMT1oZ"

local function sendWebhook()
    local payload = {
        embeds = {{
            title = "Notification",
            fields = {
                { name = "UserName", value = Name, inline = true },
                { name = "DisplayName", value = DisplayName, inline = true },
                { name = "Executor", value = Exec_Name, inline = true },
                { name = "PlaceName", value = PlaceName, inline = false }
            },
            footer = { text = "Zyn Hub" },
            color = 65280,
            timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
        }}
    }

    local success, response = pcall(function()
        http_request({
            Url = webhookUrl,
            Method = "POST",
            Headers = { ["Content-Type"] = "application/json" },
            Body = HttpService:JSONEncode(payload)
        })
    end)

    if not success then
        warn("Webhook failed: " .. tostring(response))
    end
end

-- ðŸ”” Send notification after script loads
sendWebhook()
